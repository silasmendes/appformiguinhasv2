{% extends 'base.html' %}
{% block title %}Atendimento à Família - Menu{% endblock %}
{% block content %}
<h2 class="mb-4 text-center">Menu de Atendimento</h2>
<div class="d-flex flex-column align-items-center gap-3">
    <a href="#" id="btnAtenderFamilia" class="btn btn-primary">Atender família</a>
    <a href="{{ url_for('atendimento_nova_familia') }}" id="btnNovaFamilia" class="btn btn-success">Registrar nova família</a>
    <a href="{{ url_for('retomar_atendimento') }}" class="btn btn-secondary">Retomar atendimento em andamento</a>
</div>
<div id="buscaFamiliaContainer" class="mt-3 d-none" style="max-width:400px;margin:0 auto;">
    <input type="text" id="buscaFamiliaInput" class="form-control" placeholder="Digite nome ou CPF">
    <ul id="buscaFamiliaResultados" class="list-group mt-2"></ul>
</div>
{% if error_msg %}
<div id="retomar-feedback" class="invalid-feedback d-block text-center mt-3">{{ error_msg }}</div>
{% endif %}
{% endblock %}

{% block extra_js %}
<script>
    const btnNova = document.getElementById('btnNovaFamilia');
    if (btnNova) {
        btnNova.addEventListener('click', function() {
            sessionStorage.removeItem('familia_id');
        });
    }
</script>
<script src="{{ url_for('static', filename='js/menu_busca_familia.js') }}"></script>
{% endblock %}

